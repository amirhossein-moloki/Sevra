# توضیح ساده سیستم ورود و احراز هویت

سیستم ورود ما برای دو گروه مختلف طراحی شده: **کارمندان سالن (Users)** و **مشتریان (Customers)**. در ادامه، نحوه ورود هر کدام به زبان ساده توضیح داده می‌شود.

---

### ۱. ورود کارمندان سالن

کارمندان برای ورود به پنل خودشان به سه چیز نیاز دارند:
-   **شماره تلفن**
-   **رمز عبور**
-   **شناسه سالن (Salon ID)**

**چطور کار می‌کنه؟**
وقتی کارمند اطلاعات را وارد می‌کند، سیستم چک می‌کند که آیا رمز عبور با شماره تلفن این شخص در همان سالن مطابقت دارد یا نه. این کار برای امنیت بیشتر است تا یک کارمند نتواند به اطلاعات سالن دیگری دسترسی پیدا کند.

---

### ۲. ورود مشتریان

مشتریان برای ورود فقط به یک چیز نیاز دارند:
-   **شماره تلفن**

**چطور کار می‌کنه؟**
سیستم چک می‌کند که آیا مشتری با این شماره تلفن قبلاً ثبت‌نام کرده است یا نه.
-   **اگر قبلاً ثبت‌نام کرده باشد:** وارد حساب خود می‌شود.
-   **اگر اولین بار باشد:** سیستم به صورت خودکار یک حساب کاربری برای او ایجاد می‌کند. (در آینده، این بخش با یک کد تایید پیامکی امن‌تر خواهد شد).

---

### کلیدهای ورود (توکن‌ها) چه هستند؟

بعد از اینکه هر کاربر (کارمند یا مشتری) با موفقیت وارد سیستم می‌شود، دو نوع **"کلید دیجیتال"** یا **توکن (Token)** دریافت می‌کند:

۱.  **Access Token (کلید اصلی):**
    -   این کلید مثل کارت ورود به اتاق‌های مختلف یک هتل است.
    -   برای هر درخواستی که به سرور ارسال می‌شود (مثلاً دیدن لیست نوبت‌ها)، از این کلید استفاده می‌شود تا سیستم هویت کاربر را بشناسد.
    -   این کلید **عمر کوتاهی** دارد (مثلاً ۱۵ دقیقه) تا اگر دزدیده شد، سریع باطل شود.

۲.  **Refresh Token (کلید مادر):**
    -   این کلید مثل کارت اصلی شما در پذیرش هتل است.
    -   وقتی "کلید اصلی" (Access Token) منقضی می‌شود، سیستم به جای اینکه کاربر را مجبور به ورود دوباره کند، از این "کلید مادر" استفاده می‌کند تا یک "کلید اصلی" جدید و معتبر صادر کند.
    -   این کلید **عمر طولانی‌تری** (مثلاً یک هفته) دارد و به صورت امن در سیستم نگهداری می‌شود.

این فرآیند باعث می‌شود که کاربر فقط یک بار نیاز به ورود داشته باشد و تا زمانی که فعال است، به راحتی از سیستم استفاده کند، در حالی که امنیت نیز در سطح بالایی حفظ می‌شود.
